@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "VFM" as USER

participant ":RegisterNewVehicleUI" as RegisterNewVehicleUI
participant ":RegisterNewVehicleController" as RegisterNewVehicleController
participant "Repositories" as Repositories
participant ":RegisterNewVehicleRepository" as RegisterNewVehicleRepository

activate USER
USER-> RegisterNewVehicleUI : asks to register a new vehicle
activate RegisterNewVehicleUI
RegisterNewVehicleUI -> RegisterNewVehicleController : RegisterVehicle()
activate RegisterNewVehicleController
RegisterNewVehicleController -> Repositories : getRepository()
activate Repositories
Repositories -> RegisterNewVehicleController : VehicleRepositor
deactivate Repositories
RegisterNewVehicleController -> RegisterNewVehicleRepository : RegisterNewVehicleRepository()
activate RegisterNewVehicleRepository
RegisterNewVehicleRepository -> RegisterNewVehicleController : Vehicles
deactivate RegisterNewVehicleRepository
RegisterNewVehicleController -> RegisterNewVehicleUI : Vehicles
deactivate RegisterNewVehicleController
RegisterNewVehicleUI -> USER : Shows the vehicles and asks to register new one
deactivate RegisterNewVehicleUI
USER -> RegisterNewVehicleUI : Request to register a new vehicle
activate RegisterNewVehicleUI
RegisterNewVehicleUI -> USER : Request vehicle details
deactivate RegisterNewVehicleUI
USER -> RegisterNewVehicleUI : Types vehicle details (brand,vehiclePlate, model, type, Tare, GrossWeight, CurrentKm, RegisterDate, AcquisitionDate, MaintenanceCheckupFrequency)
activate RegisterNewVehicleUI
RegisterNewVehicleUI -> RegisterNewVehicleController : RegisterVehicle()
activate RegisterNewVehicleController
RegisterNewVehicleController -> Repositories : getRepository()
activate Repositories
Repositories -> RegisterNewVehicleController : VehicleRepositor
deactivate Repositories
RegisterNewVehicleController -> RegisterNewVehicleRepository : RegisterNewVehicleRepository()
activate RegisterNewVehicleRepository
RegisterNewVehicleRepository -> RegisterNewVehicleController : New Vehicle registered
deactivate RegisterNewVehicleRepository
RegisterNewVehicleController -> RegisterNewVehicleUI : Vehicle registered
deactivate RegisterNewVehicleController
RegisterNewVehicleUI -> USER : display success message and the new vehicle


@enduml
